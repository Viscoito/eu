const translations = {
  pt: {
    'nav.language': 'Idioma',
    'nav.themeDark': 'ðŸŒ™ Escuro',
    'nav.themeLight': 'â˜€ï¸ Claro',
    'hero.badge': 'Desenvolvedor Criativo â€¢ Artista Digital',
    'hero.short': 'Crio soluÃ§Ãµes digitais que misturam lÃ³gica, estÃ©tica e interatividade. Aqui na home fica um resumo rÃ¡pido; nas abas abaixo vocÃª encontra os detalhes.',
    'tabs.about': 'Sobre',
    'tabs.projects': 'Projetos',
    'tabs.gallery': 'Artes',
    'tabs.contact': 'Contato',
    'about.title': 'Sobre mim',
    'about.text1': 'Desde 2010, atuo integrando cÃ³digo e criatividade para criar ferramentas funcionais e experiÃªncias visuais de qualidade.',
    'about.text2': 'Tenho perfil autodidata, adaptaÃ§Ã£o rÃ¡pida em ambientes remotos e foco em transformar ideias em soluÃ§Ãµes objetivas.',
    'about.skillsTitle': 'Habilidades principais',
    'projects.title': 'Projetos em destaque',
    'projects.p1.title': 'Bots para comunidades',
    'projects.p1.text': 'Chatbots para IRC com coleta de dados e melhoria de precisÃ£o de respostas.',
    'projects.p2.title': 'Fluxos com IA',
    'projects.p2.text': 'Refinamento de prompts e scripts para acelerar produÃ§Ã£o criativa e tÃ©cnica.',
    'projects.p3.title': 'Pipeline de arte + Live2D',
    'projects.p3.text': 'ProduÃ§Ã£o de assets visuais e modelos Live2D seguindo briefing e padrÃ£o de qualidade.',
    'gallery.title': 'Galeria de artes',
    'gallery.text': 'EspaÃ§o dedicado para ilustraÃ§Ãµes, concept art e peÃ§as finalizadas.',
    'gallery.live2d': 'Extra: Ã¡rea de Live2D com modelo seguindo o mouse pode entrar como prÃ³xima fase.',
    'contact.title': 'Contato',
    'contact.text': 'Vamos conversar sobre freelas, projetos, arte digital ou Live2D.',
  },
  en: {
    'nav.language': 'Language',
    'nav.themeDark': 'ðŸŒ™ Dark',
    'nav.themeLight': 'â˜€ï¸ Light',
    'hero.badge': 'Creative Developer â€¢ Digital Artist',
    'hero.short': 'I build digital solutions that blend logic, aesthetics, and interactivity. Home keeps a quick summary; tabs below contain the details.',
    'tabs.about': 'About',
    'tabs.projects': 'Projects',
    'tabs.gallery': 'Art',
    'tabs.contact': 'Contact',
    'about.title': 'About me',
    'about.text1': 'Since 2010, I have combined code and creativity to build functional tools and high-quality visual experiences.',
    'about.text2': 'I am self-taught, adapt quickly in remote environments, and focus on turning ideas into objective solutions.',
    'about.skillsTitle': 'Main skills',
    'projects.title': 'Featured projects',
    'projects.p1.title': 'Community bots',
    'projects.p1.text': 'IRC chatbots with data collection and better response accuracy.',
    'projects.p2.title': 'AI workflows',
    'projects.p2.text': 'Prompt/script refinement to speed up creative and technical production.',
    'projects.p3.title': 'Art + Live2D pipeline',
    'projects.p3.text': 'Visual assets and Live2D models produced from briefing with quality standards.',
    'gallery.title': 'Art gallery',
    'gallery.text': 'Dedicated area for illustrations, concept art, and final pieces.',
    'gallery.live2d': 'Extra: a mouse-follow Live2D section can be implemented in the next phase.',
    'contact.title': 'Contact',
    'contact.text': 'Letâ€™s talk about freelance work, projects, digital art, or Live2D.',
  },
  es: {
    'nav.language': 'Idioma',
    'nav.themeDark': 'ðŸŒ™ Oscuro',
    'nav.themeLight': 'â˜€ï¸ Claro',
    'hero.badge': 'Desarrollador Creativo â€¢ Artista Digital',
    'hero.short': 'Creo soluciones digitales que mezclan lÃ³gica, estÃ©tica e interactividad. En inicio queda un resumen; en las pestaÃ±as estÃ¡n los detalles.',
    'tabs.about': 'Sobre mÃ­',
    'tabs.projects': 'Proyectos',
    'tabs.gallery': 'Arte',
    'tabs.contact': 'Contacto',
    'about.title': 'Sobre mÃ­',
    'about.text1': 'Desde 2010, combino cÃ³digo y creatividad para crear herramientas funcionales y experiencias visuales de calidad.',
    'about.text2': 'Tengo perfil autodidacta, rÃ¡pida adaptaciÃ³n en entornos remotos y foco en convertir ideas en soluciones objetivas.',
    'about.skillsTitle': 'Habilidades principales',
    'projects.title': 'Proyectos destacados',
    'projects.p1.title': 'Bots para comunidades',
    'projects.p1.text': 'Chatbots para IRC con recolecciÃ³n de datos y mejora de precisiÃ³n en respuestas.',
    'projects.p2.title': 'Flujos con IA',
    'projects.p2.text': 'Mejora de prompts y scripts para acelerar producciÃ³n creativa y tÃ©cnica.',
    'projects.p3.title': 'Pipeline de arte + Live2D',
    'projects.p3.text': 'ProducciÃ³n de assets visuales y modelos Live2D segÃºn briefing y calidad.',
    'gallery.title': 'GalerÃ­a de arte',
    'gallery.text': 'Espacio dedicado para ilustraciones, concept art y piezas finales.',
    'gallery.live2d': 'Extra: una secciÃ³n Live2D que siga el mouse puede entrar en la prÃ³xima fase.',
    'contact.title': 'Contacto',
    'contact.text': 'Hablemos sobre freelance, proyectos, arte digital o Live2D.',
  },
  ja: {
    'nav.language': 'è¨€èªž',
    'nav.themeDark': 'ðŸŒ™ ãƒ€ãƒ¼ã‚¯',
    'nav.themeLight': 'â˜€ï¸ ãƒ©ã‚¤ãƒˆ',
    'hero.badge': 'ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–é–‹ç™ºè€… â€¢ ãƒ‡ã‚¸ã‚¿ãƒ«ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆ',
    'hero.short': 'ãƒ­ã‚¸ãƒƒã‚¯ãƒ»ç¾Žã—ã•ãƒ»ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã‚’çµ„ã¿åˆã‚ã›ãŸãƒ‡ã‚¸ã‚¿ãƒ«åˆ¶ä½œã‚’è¡Œã„ã¾ã™ã€‚ãƒ›ãƒ¼ãƒ ã¯æ¦‚è¦ã€ä¸‹ã®ã‚¿ãƒ–ã§è©³ç´°ã‚’ç¢ºèªã§ãã¾ã™ã€‚',
    'tabs.about': 'è‡ªå·±ç´¹ä»‹',
    'tabs.projects': 'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ',
    'tabs.gallery': 'ã‚¢ãƒ¼ãƒˆ',
    'tabs.contact': 'é€£çµ¡å…ˆ',
    'about.title': 'è‡ªå·±ç´¹ä»‹',
    'about.text1': '2010å¹´ã‹ã‚‰ã€ã‚³ãƒ¼ãƒ‰ã¨å‰µé€ æ€§ã‚’çµ„ã¿åˆã‚ã›ã¦æ©Ÿèƒ½çš„ãªãƒ„ãƒ¼ãƒ«ã¨é«˜å“è³ªãªãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ä½“é¨“ã‚’ä½œã£ã¦ãã¾ã—ãŸã€‚',
    'about.text2': 'ç‹¬å­¦ãŒå¾—æ„ã§ã€ãƒªãƒ¢ãƒ¼ãƒˆç’°å¢ƒã¸ã®é©å¿œãŒæ—©ãã€ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’æ˜Žç¢ºãªè§£æ±ºç­–ã¸è½ã¨ã—è¾¼ã‚€ã“ã¨ã«æ³¨åŠ›ã—ã¦ã„ã¾ã™ã€‚',
    'about.skillsTitle': 'ä¸»ãªã‚¹ã‚­ãƒ«',
    'projects.title': 'æ³¨ç›®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ',
    'projects.p1.title': 'ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£å‘ã‘ãƒœãƒƒãƒˆ',
    'projects.p1.text': 'ãƒ‡ãƒ¼ã‚¿åŽé›†ã¨å›žç­”ç²¾åº¦å‘ä¸Šã‚’å‚™ãˆãŸIRCãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆã€‚',
    'projects.p2.title': 'AIãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼',
    'projects.p2.text': 'å‰µä½œãƒ»æŠ€è¡“åˆ¶ä½œã‚’é«˜é€ŸåŒ–ã™ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ/ã‚¹ã‚¯ãƒªãƒ—ãƒˆæ”¹å–„ã€‚',
    'projects.p3.title': 'ã‚¢ãƒ¼ãƒˆ + Live2D åˆ¶ä½œãƒ•ãƒ­ãƒ¼',
    'projects.p3.text': 'å“è³ªåŸºæº–ã«æ²¿ã£ãŸãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚¢ã‚»ãƒƒãƒˆã¨Live2Dãƒ¢ãƒ‡ãƒ«åˆ¶ä½œã€‚',
    'gallery.title': 'ã‚¢ãƒ¼ãƒˆã‚®ãƒ£ãƒ©ãƒªãƒ¼',
    'gallery.text': 'ã‚¤ãƒ©ã‚¹ãƒˆã€ã‚³ãƒ³ã‚»ãƒ—ãƒˆã‚¢ãƒ¼ãƒˆã€å®Œæˆä½œå“ã®ãŸã‚ã®å°‚ç”¨ã‚¨ãƒªã‚¢ã€‚',
    'gallery.live2d': 'è¿½åŠ : ãƒžã‚¦ã‚¹è¿½å¾“Live2Dã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯æ¬¡ãƒ•ã‚§ãƒ¼ã‚ºã§å®Ÿè£…å¯èƒ½ã§ã™ã€‚',
    'contact.title': 'é€£çµ¡å…ˆ',
    'contact.text': 'ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€ãƒ‡ã‚¸ã‚¿ãƒ«ã‚¢ãƒ¼ãƒˆã€Live2Dã®ç›¸è«‡ã¯ãŠæ°—è»½ã«ã€‚',
  },
};

const langSelect = document.getElementById('langSelect');
const themeToggle = document.getElementById('themeToggle');
const nodes = document.querySelectorAll('[data-i18n]');
const tabs = document.querySelectorAll('.tab');
const panels = document.querySelectorAll('.panel');

function applyLanguage(lang) {
  const dict = translations[lang] || translations.pt;
  document.documentElement.lang = lang;
  nodes.forEach((node) => {
    const key = node.dataset.i18n;
    if (dict[key]) node.textContent = dict[key];
  });
  updateThemeLabel();
  localStorage.setItem('portfolio-lang', lang);
}

function setTheme(theme) {
  document.body.dataset.theme = theme;
  localStorage.setItem('portfolio-theme', theme);
  updateThemeLabel();
}

function updateThemeLabel() {
  const lang = langSelect.value || 'pt';
  const dict = translations[lang] || translations.pt;
  const isDark = document.body.dataset.theme === 'dark';
  themeToggle.textContent = isDark ? dict['nav.themeLight'] : dict['nav.themeDark'];
}

function activateTab(target) {
  tabs.forEach((tab) => {
    const active = tab.dataset.tab === target;
    tab.classList.toggle('active', active);
    tab.setAttribute('aria-selected', String(active));
  });

  panels.forEach((panel) => {
    const active = panel.dataset.panel === target;
    panel.classList.toggle('active', active);
    panel.hidden = !active;
  });
}

langSelect.addEventListener('change', (event) => applyLanguage(event.target.value));

themeToggle.addEventListener('click', () => {
  const nextTheme = document.body.dataset.theme === 'dark' ? 'light' : 'dark';
  setTheme(nextTheme);
});

tabs.forEach((tab) => {
  tab.addEventListener('click', () => activateTab(tab.dataset.tab));
});

const savedLang = localStorage.getItem('portfolio-lang') || 'pt';
const savedTheme = localStorage.getItem('portfolio-theme') || 'dark';
langSelect.value = savedLang;
setTheme(savedTheme);
applyLanguage(savedLang);
activateTab('about');
